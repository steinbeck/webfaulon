# Summary: 06.1-02 — Integration tests for unsaturated displacement and all presets

**Status:** Complete
**Date:** 2026-02-16

## What Was Done

Added integration tests verifying the Phase 06.1-01 fix propagates correctly through displacement and SA engine for all molecule types:

1. **TestUnsaturatedDisplacement** (test_displacement.py) — 3 tests verifying benzene and naphthalene displacement doesn't crash, preserves atom counts, and keeps bond orders in [0, 3].

2. **TestUnsaturatedMolecules** (test_sa_engine.py) — Parametrized SA test on C6H6, C10H8, C10H16. Verifies full optimization completes with valid SMILES and correct move accounting (accepted + rejected + invalid + disconnected = total).

3. **TestAllPresetFormulas** (test_sa_engine.py) — Parametrized SA test on all 6 frontend presets (C6H14, C8H18, C8H10, C10H22, C10H16, C10H8). Verifies each produces valid best_smiles and positive best_energy.

4. **TestDisconnectedMoveAccounting** (test_sa_engine.py) — Verifies disconnected moves tracked separately from invalid moves and all categories sum to total steps.

## Test Results

238 tests pass, 0 failures. All unsaturated molecules and preset formulas complete SA optimization without crashes.

## Files Changed

- `backend/tests/test_displacement.py` — Added TestUnsaturatedDisplacement class (3 tests)
- `backend/tests/test_sa_engine.py` — Added TestUnsaturatedMolecules, TestAllPresetFormulas, TestDisconnectedMoveAccounting classes (9 tests)
